# SPDX-License-Identifier: (GPL-2.0+ OR MIT)
%YAML 1.2
---
$id: http://devicetree.org/schemas/media/raspberrypi,pispbe.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Raspberry Pi PiSP Image Signal Processor (ISP) Back End

maintainers:
  - Dave Stevenson <dave.stevenson@raspberrypi.com>
  - David Plowman <david.plowman@raspberrypi.com>
  - Jacopo Mondi <jacopo.mondi@ideasonboard.com>
  - Naushir Patuck <naush@raspberrypi.com>
  - Nick Hollinghurst <nick.hollinghurst@raspberrypi.com>

description: |
  The Raspberry Pi PiSP Image Signal Processor (ISP) Back End is an image
  processor that fetches images in Bayer or Grayscale format from DRAM memory
  in tiles and produces images consumable by application.

  The full ISP documentation is available at:
  https://datasheets.raspberrypi.com/camera/raspberry-pi-image-signal-processor-specification.pdf

properties:
  compatible:
    const: raspberrypi,pispbe

  reg:
    maxItems: 1

  interrupts:
    maxItems: 1

  clocks:
    maxItems: 1

  clock-names:
    const: isp_be

  iommus:
    maxItems: 1

required:
  - compatible
  - reg
  - interrupts
  - clocks
  - clock-names

additionalProperties: false

examples:
  - |
    #include <dt-bindings/interrupt-controller/arm-gic.h>

    rpi1 {
        #address-cells = <2>;
        #size-cells = <2>;

        isp: pisp_be@880000  {
             compatible = "raspberrypi,pispbe";
             reg = <0x10 0x00880000  0x0 0x4000>;
             interrupts = <GIC_SPI 72 IRQ_TYPE_LEVEL_HIGH>;
             clocks = <&firmware_clocks 7>;
             clock-names = "isp_be";
             iommus = <&iommu2>;
        };
    };
